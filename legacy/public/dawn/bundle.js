(()=>{"use strict";(()=>{var e=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))};const n=function(n,t){return void 0===t&&(t=!1),{debug:function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},log:function(r){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];t||console.log.apply(console,e(["["+n+"] "+r],a,!1))}}};var t=null;const r=function(){return t},a=JSON.parse('[{"title":"Hello, my emptiness days","filename":"01.mp3","composer":"tsuki","twitter":"https://twitter.com/tsukisann_24","soundcloud":"https://soundcloud.com/fuiedrxdraxi"},{"title":"Hundred Flavors","filename":"02.mp3","composer":"ろんぽう","twitter":"https://twitter.com/Ron_Music_logic","soundcloud":"https://soundcloud.com/ronpo-1688"},{"title":"藍の天に捧ぐささやかな願い","filename":"03.mp3","composer":"まいはね"},{"title":"Rainy Rainy Summer","composer":"udokatsu","filename":"04.mp3","twitter":"https://twitter.com/udokatsu_","soundcloud":"https://soundcloud.com/udokatsu"},{"title":"レポート書いたら夜が開けた","composer":"ろんぽう","filename":"05.mp3","twitter":"https://twitter.com/Ron_Music_logic","soundcloud":"https://soundcloud.com/ronpo-1688"},{"title":"ターミネーター","composer":"MoAI","filename":"06.mp3","soundcloud":"https://soundcloud.com/ht7nvpukltxn"},{"title":"Lemonquartz","composer":"Yuhgao","filename":"07.mp3","twitter":"https://twitter.com/Yuh_gao","soundcloud":"https://soundcloud.com/yuhgao"},{"title":"anymore(colour mix)","composer":"ueharu","filename":"08.mp3"}]');var o=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}))},i=function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=[],c=[];const s={load:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,Promise.all(a.map((function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,fetch("./music/"+e.filename)];case 1:return[4,n.sent().arrayBuffer()];case 2:return[2,n.sent()]}}))}))})))];case 1:return u=e.sent(),w.debug("loading completed",{arrayBuffers:u}),[2]}}))}))},init:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return w.debug("data init",{arrayBuffers:u}),[4,Promise.all(u.map((function(e){return o(void 0,void 0,void 0,(function(){var n;return i(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(n){var t;return null===(t=r())||void 0===t?void 0:t.decodeAudioData(e,(function(e){w.debug("buffer",{buffer:e}),n(e)}),(function(e){w.debug("decodeAudioData error",{e}),n(null)}))}))];case 1:return n=t.sent(),w.debug("arrayBuffers map",{arrayBuffer:e,audioBuffer:n,ctx:r()}),[2,n||null]}}))}))})))];case 1:return c=e.sent(),[2]}}))}))},getAudioBuffers:function(){return c},getNumberOfTracks:function(){return c.length}};var l=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},f=null,d="not_initialized",v=0,p=null,m=[],h=!1,g=null,y=function(e,n,t){void 0===t&&(t=!1);var a=r();if(null!==a){w.debug("fade",e,n,t),m.some((function(n){return n.control.trackNumber==e.trackNumber&&"fade"===n.type}))&&b(e.trackNumber,"fade"),e.gainNode.gain.value=e.gainNode.gain.value,e.gainNode.gain.linearRampToValueAtTime(n?.01:1,a.currentTime+1);var o=window.setTimeout((function(){w.debug("fade task execute",e,n,t),b(e.trackNumber,"fade"),n&&e.bufferSource.stop(),t&&b(e.trackNumber,"audioEnd")}),1e3);m.push({type:"fade",timeOutHandler:o,control:e}),w.debug("fade task reserved",l([],m,!0))}},b=function(e,n){var t=m.filter((function(t){return t.control.trackNumber==e&&t.type===n}));t.forEach((function(e){return window.clearTimeout(e.timeOutHandler)})),m=m.filter((function(t){return t.control.trackNumber!=e||t.type!==n})),w.debug("filtered tasks",{trackNumber:e,type:n},t,l([],m,!0))};const x={init:function(){var e=r();if(null!==e){(f=e.createGain()).gain.value=1,f.connect(e.destination),d="stopped";var n=e.createBufferSource();return n.connect(e.destination),n.buffer=e.createBuffer(1,1,22050),w.debug("player init",{ctx:e,masterGainNode:f,state:d,silence:n}),new Promise((function(e){n.onended=function(){w.debug("silence end"),null!==f&&(n.disconnect(0),e(""))},w.debug("silence start",{silence:n}),n.start(0),setTimeout((function(){return e("")}),500)}))}},play:function(e){var n;if(w.debug("try to play...",{locked:h,trackNumber:e,length:s.getAudioBuffers().length,state:d,currentControl:p,masterGainNode:f}),!h&&!(e<0||e>=s.getAudioBuffers().length||"playing"===d&&e==(null==p?void 0:p.trackNumber)||"not_initialized"===d||null===f)){var t=r(),a=null===(n=s.getAudioBuffers())||void 0===n?void 0:n[e];if(w.debug("try to play 2 ...",{ctx:t,bfs:s.getAudioBuffers(),audioBuffer:a}),null!==t&&null!==a){if(w.debug("play",e,null==p?void 0:p.trackNumber,l([],m,!0)),null!==p&&y(p,!0,!0),m.some((function(n){return w.debug("some",n.control.trackNumber,e,n.type),n.control.trackNumber==e&&"fade"===n.type}))){var o=m.filter((function(n){return n.control.trackNumber==e&&"fade"===n.type}));return w.debug("this track already been playing. continue",e,o),y(o[0].control,!1),void(p=o[0].control)}var i=t.createBufferSource();i.buffer=a;var u=t.createGain();u.gain.value=.01,i.connect(u).connect(f),i.start(),v=e,y(p={bufferSource:i,gainNode:u,trackNumber:e},!1);var c=window.setTimeout((function(){w.debug("audio end",t.currentTime),b(e,"audioEnd"),null!==g&&g()}),1e3*(a.duration-1));m.push({type:"audioEnd",timeOutHandler:c,control:p}),w.debug("audio end reserved",t.currentTime,l([],m,!0)),d="playing"}}},pause:function(){"playing"===d&&null!==p&&(w.debug("pause"),y(p,!0,!0),p=null,d="stopped")},setGain:function(e){null==f||f.gain.linearRampToValueAtTime(e,.5)},setAudioEndCallback:function(e){return g=e},getState:function(){return d},getCurrentTrackNumber:function(){return v},lock:function(){return h=!0},unlock:function(){return h=!1}};var w=n("audio"),E="not_initialized";const T={load:s.load,init:function(){return e=void 0,n=void 0,a=function(){return function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(e){switch(e.label){case 0:return w.debug("init",{state:E}),"initialized"===E?[2]:(t=new(window.AudioContext||window.webkitAudioContext),w.debug("context init",{ctx:t}),[4,s.init()]);case 1:return e.sent(),[4,x.init()];case 2:return e.sent(),E="initialized",document.addEventListener("xfdplay",(function(){x.pause(),x.lock()})),document.addEventListener("xfdstop",(function(){x.unlock()})),w.debug("init end",{state:E}),[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function u(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,u)}c((a=a.apply(e,n||[])).next())}));var e,n,r,a},play:x.play,pause:x.pause,setGain:x.setGain,setAudioEndCallback:x.setAudioEndCallback,getState:x.getState,getCurrentTrackNum:x.getCurrentTrackNumber,getNumberOfTracks:s.getNumberOfTracks};var P={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},A={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},M=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],k={CSS:{},springs:{}};function _(e,n,t){return Math.min(Math.max(e,n),t)}function B(e,n){return e.indexOf(n)>-1}function C(e,n){return e.apply(null,n)}var L={arr:function(e){return Array.isArray(e)},obj:function(e){return B(Object.prototype.toString.call(e),"Object")},pth:function(e){return L.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||L.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return L.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return L.hex(e)||L.rgb(e)||L.hsl(e)},key:function(e){return!P.hasOwnProperty(e)&&!A.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function I(e){var n=/\(([^)]+)\)/.exec(e);return n?n[1].split(",").map((function(e){return parseFloat(e)})):[]}function F(e,n){var t=I(e),r=_(L.und(t[0])?1:t[0],.1,100),a=_(L.und(t[1])?100:t[1],.1,100),o=_(L.und(t[2])?10:t[2],.1,100),i=_(L.und(t[3])?0:t[3],.1,100),u=Math.sqrt(a/r),c=o/(2*Math.sqrt(a*r)),s=c<1?u*Math.sqrt(1-c*c):0,l=c<1?(c*u-i)/s:-i+u;function f(e){var t=n?n*e/1e3:e;return t=c<1?Math.exp(-t*c*u)*(1*Math.cos(s*t)+l*Math.sin(s*t)):(1+l*t)*Math.exp(-t*u),0===e||1===e?e:1-t}return n?f:function(){var n=k.springs[e];if(n)return n;for(var t=1/6,r=0,a=0;;)if(1===f(r+=t)){if(++a>=16)break}else a=0;var o=r*t*1e3;return k.springs[e]=o,o}}function R(e){return void 0===e&&(e=10),function(n){return Math.ceil(_(n,1e-6,1)*e)*(1/e)}}var S,N,z=function(){var e=.1;function n(e,n){return 1-3*n+3*e}function t(e,n){return 3*n-6*e}function r(e){return 3*e}function a(e,a,o){return((n(a,o)*e+t(a,o))*e+r(a))*e}function o(e,a,o){return 3*n(a,o)*e*e+2*t(a,o)*e+r(a)}return function(n,t,r,i){if(0<=n&&n<=1&&0<=r&&r<=1){var u=new Float32Array(11);if(n!==t||r!==i)for(var c=0;c<11;++c)u[c]=a(c*e,n,r);return function(c){return n===t&&r===i||0===c||1===c?c:a(function(t){for(var i=0,c=1;10!==c&&u[c]<=t;++c)i+=e;--c;var s=i+(t-u[c])/(u[c+1]-u[c])*e,l=o(s,n,r);return l>=.001?function(e,n,t,r){for(var i=0;i<4;++i){var u=o(n,t,r);if(0===u)return n;n-=(a(n,t,r)-e)/u}return n}(t,s,n,r):0===l?s:function(e,n,t,r,o){var i,u,c=0;do{(i=a(u=n+(t-n)/2,r,o)-e)>0?t=u:n=u}while(Math.abs(i)>1e-7&&++c<10);return u}(t,i,i+e,n,r)}(c),t,i)}}}}(),O=(S={linear:function(){return function(e){return e}}},N={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var n,t=4;e<((n=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*n-2)/22-e,2)}},Elastic:function(e,n){void 0===e&&(e=1),void 0===n&&(n=.5);var t=_(e,1,10),r=_(n,.1,2);return function(e){return 0===e||1===e?e:-t*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,n){N[e]=function(){return function(e){return Math.pow(e,n+2)}}})),Object.keys(N).forEach((function(e){var n=N[e];S["easeIn"+e]=n,S["easeOut"+e]=function(e,t){return function(r){return 1-n(e,t)(1-r)}},S["easeInOut"+e]=function(e,t){return function(r){return r<.5?n(e,t)(2*r)/2:1-n(e,t)(-2*r+2)/2}},S["easeOutIn"+e]=function(e,t){return function(r){return r<.5?(1-n(e,t)(1-2*r))/2:(n(e,t)(2*r-1)+1)/2}}})),S);function U(e,n){if(L.fnc(e))return e;var t=e.split("(")[0],r=O[t],a=I(e);switch(t){case"spring":return F(e,n);case"cubicBezier":return C(z,a);case"steps":return C(R,a);default:return C(r,a)}}function D(e){try{return document.querySelectorAll(e)}catch(e){return}}function q(e,n){for(var t=e.length,r=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<t;o++)if(o in e){var i=e[o];n.call(r,i,o,e)&&a.push(i)}return a}function Y(e){return e.reduce((function(e,n){return e.concat(L.arr(n)?Y(n):n)}),[])}function H(e){return L.arr(e)?e:(L.str(e)&&(e=D(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function V(e,n){return e.some((function(e){return e===n}))}function G(e){var n={};for(var t in e)n[t]=e[t];return n}function W(e,n){var t=G(e);for(var r in e)t[r]=n.hasOwnProperty(r)?n[r]:e[r];return t}function X(e,n){var t=G(e);for(var r in n)t[r]=L.und(e[r])?n[r]:e[r];return t}function j(e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(n)return n[1]}function Q(e,n){return L.fnc(e)?e(n.target,n.id,n.total):e}function Z(e,n){return e.getAttribute(n)}function $(e,n,t){if(V([t,"deg","rad","turn"],j(n)))return n;var r=k.CSS[n+t];if(!L.und(r))return r;var a=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(a),a.style.position="absolute",a.style.width=100+t;var i=100/a.offsetWidth;o.removeChild(a);var u=i*parseFloat(n);return k.CSS[n+t]=u,u}function J(e,n,t){if(n in e.style){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[n]||getComputedStyle(e).getPropertyValue(r)||"0";return t?$(e,a,t):a}}function K(e,n){return L.dom(e)&&!L.inp(e)&&(!L.nil(Z(e,n))||L.svg(e)&&e[n])?"attribute":L.dom(e)&&V(M,n)?"transform":L.dom(e)&&"transform"!==n&&J(e,n)?"css":null!=e[n]?"object":void 0}function ee(e){if(L.dom(e)){for(var n,t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;n=r.exec(t);)a.set(n[1],n[2]);return a}}function ne(e,n,t,r){switch(K(e,n)){case"transform":return function(e,n,t,r){var a=B(n,"scale")?1:0+function(e){return B(e,"translate")||"perspective"===e?"px":B(e,"rotate")||B(e,"skew")?"deg":void 0}(n),o=ee(e).get(n)||a;return t&&(t.transforms.list.set(n,o),t.transforms.last=n),r?$(e,o,r):o}(e,n,r,t);case"css":return J(e,n,t);case"attribute":return Z(e,n);default:return e[n]||0}}function te(e,n){var t=/^(\*=|\+=|-=)/.exec(e);if(!t)return e;var r=j(e)||0,a=parseFloat(n),o=parseFloat(e.replace(t[0],""));switch(t[0][0]){case"+":return a+o+r;case"-":return a-o+r;case"*":return a*o+r}}function re(e,n){if(L.col(e))return function(e){return L.rgb(e)?(t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n=e))?"rgba("+t[1]+",1)":n:L.hex(e)?function(e){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,n,t,r){return n+n+t+t+r+r})),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return"rgba("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+",1)"}(e):L.hsl(e)?function(e){var n,t,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(a[1],10)/360,i=parseInt(a[2],10)/100,u=parseInt(a[3],10)/100,c=a[4]||1;function s(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(n-e)*t:t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e}if(0==i)n=t=r=u;else{var l=u<.5?u*(1+i):u+i-u*i,f=2*u-l;n=s(f,l,o+1/3),t=s(f,l,o),r=s(f,l,o-1/3)}return"rgba("+255*n+","+255*t+","+255*r+","+c+")"}(e):void 0;var n,t}(e);if(/\s/g.test(e))return e;var t=j(e),r=t?e.substr(0,e.length-t.length):e;return n?r+n:r}function ae(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function oe(e){for(var n,t=e.points,r=0,a=0;a<t.numberOfItems;a++){var o=t.getItem(a);a>0&&(r+=ae(n,o)),n=o}return r}function ie(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*Z(e,"r")}(e);case"rect":return function(e){return 2*Z(e,"width")+2*Z(e,"height")}(e);case"line":return function(e){return ae({x:Z(e,"x1"),y:Z(e,"y1")},{x:Z(e,"x2"),y:Z(e,"y2")})}(e);case"polyline":return oe(e);case"polygon":return function(e){var n=e.points;return oe(e)+ae(n.getItem(n.numberOfItems-1),n.getItem(0))}(e)}}function ue(e,n){var t=n||{},r=t.el||function(e){for(var n=e.parentNode;L.svg(n)&&L.svg(n.parentNode);)n=n.parentNode;return n}(e),a=r.getBoundingClientRect(),o=Z(r,"viewBox"),i=a.width,u=a.height,c=t.viewBox||(o?o.split(" "):[0,0,i,u]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:i,h:u,vW:c[2],vH:c[3]}}function ce(e,n,t){function r(t){void 0===t&&(t=0);var r=n+t>=1?n+t:0;return e.el.getPointAtLength(r)}var a=ue(e.el,e.svg),o=r(),i=r(-1),u=r(1),c=t?1:a.w/a.vW,s=t?1:a.h/a.vH;switch(e.property){case"x":return(o.x-a.x)*c;case"y":return(o.y-a.y)*s;case"angle":return 180*Math.atan2(u.y-i.y,u.x-i.x)/Math.PI}}function se(e,n){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=re(L.pth(e)?e.totalLength:e,n)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:L.str(e)||n?r.split(t):[]}}function le(e){return q(e?Y(L.arr(e)?e.map(H):H(e)):[],(function(e,n,t){return t.indexOf(e)===n}))}function fe(e){var n=le(e);return n.map((function(e,t){return{target:e,id:t,total:n.length,transforms:{list:ee(e)}}}))}function de(e,n){var t=G(n);if(/^spring/.test(t.easing)&&(t.duration=F(t.easing)),L.arr(e)){var r=e.length;2!==r||L.obj(e[0])?L.fnc(n.duration)||(t.duration=n.duration/r):e={value:e}}var a=L.arr(e)?e:[e];return a.map((function(e,t){var r=L.obj(e)&&!L.pth(e)?e:{value:e};return L.und(r.delay)&&(r.delay=t?0:n.delay),L.und(r.endDelay)&&(r.endDelay=t===a.length-1?n.endDelay:0),r})).map((function(e){return X(e,t)}))}var ve={css:function(e,n,t){return e.style[n]=t},attribute:function(e,n,t){return e.setAttribute(n,t)},object:function(e,n,t){return e[n]=t},transform:function(e,n,t,r,a){if(r.list.set(n,t),n===r.last||a){var o="";r.list.forEach((function(e,n){o+=n+"("+e+") "})),e.style.transform=o}}};function pe(e,n){fe(e).forEach((function(e){for(var t in n){var r=Q(n[t],e),a=e.target,o=j(r),i=ne(a,t,o,e),u=te(re(r,o||j(i)),i),c=K(a,t);ve[c](a,t,u,e.transforms,!0)}}))}function me(e,n){return q(Y(e.map((function(e){return n.map((function(n){return function(e,n){var t=K(e.target,n.name);if(t){var r=function(e,n){var t;return e.tweens.map((function(r){var a=function(e,n){var t={};for(var r in e){var a=Q(e[r],n);L.arr(a)&&1===(a=a.map((function(e){return Q(e,n)}))).length&&(a=a[0]),t[r]=a}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}(r,n),o=a.value,i=L.arr(o)?o[1]:o,u=j(i),c=ne(n.target,e.name,u,n),s=t?t.to.original:c,l=L.arr(o)?o[0]:s,f=j(l)||j(c),d=u||f;return L.und(i)&&(i=s),a.from=se(l,d),a.to=se(te(i,l),d),a.start=t?t.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=U(a.easing,a.duration),a.isPath=L.pth(o),a.isPathTargetInsideSVG=a.isPath&&L.svg(n.target),a.isColor=L.col(a.from.original),a.isColor&&(a.round=1),t=a,a}))}(n,e),a=r[r.length-1];return{type:t,property:n.name,animatable:e,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(e,n)}))}))),(function(e){return!L.und(e)}))}function he(e,n){var t=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=t?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):n.duration,a.delay=t?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):n.delay,a.endDelay=t?a.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):n.endDelay,a}var ge=0,ye=[],be=function(){var e;function n(t){for(var r=ye.length,a=0;a<r;){var o=ye[a];o.paused?(ye.splice(a,1),r--):(o.tick(t),a++)}e=a>0?requestAnimationFrame(n):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){we.suspendWhenDocumentHidden&&(xe()?e=cancelAnimationFrame(e):(ye.forEach((function(e){return e._onDocumentVisibility()})),be()))})),function(){e||xe()&&we.suspendWhenDocumentHidden||!(ye.length>0)||(e=requestAnimationFrame(n))}}();function xe(){return!!document&&document.hidden}function we(e){void 0===e&&(e={});var n,t=0,r=0,a=0,o=0,i=null;function u(e){var n=window.Promise&&new Promise((function(e){return i=e}));return e.finished=n,n}var c=function(e){var n=W(P,e),t=W(A,e),r=function(e,n){var t=[],r=n.keyframes;for(var a in r&&(n=X(function(e){for(var n=q(Y(e.map((function(e){return Object.keys(e)}))),(function(e){return L.key(e)})).reduce((function(e,n){return e.indexOf(n)<0&&e.push(n),e}),[]),t={},r=function(r){var a=n[r];t[a]=e.map((function(e){var n={};for(var t in e)L.key(t)?t==a&&(n.value=e[t]):n[t]=e[t];return n}))},a=0;a<n.length;a++)r(a);return t}(r),n)),n)L.key(a)&&t.push({name:a,tweens:de(n[a],e)});return t}(t,e),a=fe(e.targets),o=me(a,r),i=he(o,t),u=ge;return ge++,X(n,{id:u,children:[],animatables:a,animations:o,duration:i.duration,delay:i.delay,endDelay:i.endDelay})}(e);function s(){var e=c.direction;"alternate"!==e&&(c.direction="normal"!==e?"normal":"reverse"),c.reversed=!c.reversed,n.forEach((function(e){return e.reversed=c.reversed}))}function l(e){return c.reversed?c.duration-e:e}function f(){t=0,r=l(c.currentTime)*(1/we.speed)}function d(e,n){n&&n.seek(e-n.timelineOffset)}function v(e){for(var n=0,t=c.animations,r=t.length;n<r;){var a=t[n],o=a.animatable,i=a.tweens,u=i.length-1,s=i[u];u&&(s=q(i,(function(n){return e<n.end}))[0]||s);for(var l=_(e-s.start-s.delay,0,s.duration)/s.duration,f=isNaN(l)?1:s.easing(l),d=s.to.strings,v=s.round,p=[],m=s.to.numbers.length,h=void 0,g=0;g<m;g++){var y=void 0,b=s.to.numbers[g],x=s.from.numbers[g]||0;y=s.isPath?ce(s.value,f*b,s.isPathTargetInsideSVG):x+f*(b-x),v&&(s.isColor&&g>2||(y=Math.round(y*v)/v)),p.push(y)}var w=d.length;if(w){h=d[0];for(var E=0;E<w;E++){d[E];var T=d[E+1],P=p[E];isNaN(P)||(h+=T?P+T:P+" ")}}else h=p[0];ve[a.type](o.target,a.property,h,o.transforms),a.currentValue=h,n++}}function p(e){c[e]&&!c.passThrough&&c[e](c)}function m(e){var f=c.duration,m=c.delay,h=f-c.endDelay,g=l(e);c.progress=_(g/f*100,0,100),c.reversePlayback=g<c.currentTime,n&&function(e){if(c.reversePlayback)for(var t=o;t--;)d(e,n[t]);else for(var r=0;r<o;r++)d(e,n[r])}(g),!c.began&&c.currentTime>0&&(c.began=!0,p("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,p("loopBegin")),g<=m&&0!==c.currentTime&&v(0),(g>=h&&c.currentTime!==f||!f)&&v(f),g>m&&g<h?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,p("changeBegin")),p("change"),v(g)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,p("changeComplete")),c.currentTime=_(g,0,f),c.began&&p("update"),e>=f&&(r=0,c.remaining&&!0!==c.remaining&&c.remaining--,c.remaining?(t=a,p("loopComplete"),c.loopBegan=!1,"alternate"===c.direction&&s()):(c.paused=!0,c.completed||(c.completed=!0,p("loopComplete"),p("complete"),!c.passThrough&&"Promise"in window&&(i(),u(c)))))}return u(c),c.reset=function(){var e=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===e,c.remaining=c.loop,n=c.children;for(var t=o=n.length;t--;)c.children[t].reset();(c.reversed&&!0!==c.loop||"alternate"===e&&1===c.loop)&&c.remaining++,v(c.reversed?c.duration:0)},c._onDocumentVisibility=f,c.set=function(e,n){return pe(e,n),c},c.tick=function(e){a=e,t||(t=a),m((a+(r-t))*we.speed)},c.seek=function(e){m(l(e))},c.pause=function(){c.paused=!0,f()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,ye.push(c),f(),be())},c.reverse=function(){s(),c.completed=!c.reversed,f()},c.restart=function(){c.reset(),c.play()},c.remove=function(e){Te(le(e),c)},c.reset(),c.autoplay&&c.play(),c}function Ee(e,n){for(var t=n.length;t--;)V(e,n[t].animatable.target)&&n.splice(t,1)}function Te(e,n){var t=n.animations,r=n.children;Ee(e,t);for(var a=r.length;a--;){var o=r[a],i=o.animations;Ee(e,i),i.length||o.children.length||r.splice(a,1)}t.length||r.length||n.pause()}we.version="3.2.1",we.speed=1,we.suspendWhenDocumentHidden=!0,we.running=ye,we.remove=function(e){for(var n=le(e),t=ye.length;t--;)Te(n,ye[t])},we.get=ne,we.set=pe,we.convertPx=$,we.path=function(e,n){var t=L.str(e)?D(e)[0]:e,r=n||100;return function(e){return{property:e,el:t,svg:ue(t),totalLength:ie(t)*(r/100)}}},we.setDashoffset=function(e){var n=ie(e);return e.setAttribute("stroke-dasharray",n),n},we.stagger=function(e,n){void 0===n&&(n={});var t=n.direction||"normal",r=n.easing?U(n.easing):null,a=n.grid,o=n.axis,i=n.from||0,u="first"===i,c="center"===i,s="last"===i,l=L.arr(e),f=l?parseFloat(e[0]):parseFloat(e),d=l?parseFloat(e[1]):0,v=j(l?e[1]:e)||0,p=n.start||0+(l?f:0),m=[],h=0;return function(e,n,g){if(u&&(i=0),c&&(i=(g-1)/2),s&&(i=g-1),!m.length){for(var y=0;y<g;y++){if(a){var b=c?(a[0]-1)/2:i%a[0],x=c?(a[1]-1)/2:Math.floor(i/a[0]),w=b-y%a[0],E=x-Math.floor(y/a[0]),T=Math.sqrt(w*w+E*E);"x"===o&&(T=-w),"y"===o&&(T=-E),m.push(T)}else m.push(Math.abs(i-y));h=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/h)*h}))),"reverse"===t&&(m=m.map((function(e){return o?e<0?-1*e:-e:Math.abs(h-e)})))}return p+(l?(d-f)/h:f)*(Math.round(100*m[n])/100)+v}},we.timeline=function(e){void 0===e&&(e={});var n=we(e);return n.duration=0,n.add=function(t,r){var a=ye.indexOf(n),o=n.children;function i(e){e.passThrough=!0}a>-1&&ye.splice(a,1);for(var u=0;u<o.length;u++)i(o[u]);var c=X(t,W(A,e));c.targets=c.targets||e.targets;var s=n.duration;c.autoplay=!1,c.direction=n.direction,c.timelineOffset=L.und(r)?s:te(r,s),i(n),n.seek(c.timelineOffset);var l=we(c);i(l),o.push(l);var f=he(o,e);return n.delay=f.delay,n.endDelay=f.endDelay,n.duration=f.duration,n.seek(0),n.reset(),n.autoplay&&n.play(),n},n},we.easing=U,we.penner=O,we.random=function(e,n){return Math.floor(Math.random()*(n-e+1))+e};const Pe=we;var Ae,Me,ke;const _e=function(e,n){return void 0===n&&(n=!1),t=void 0,r=void 0,o=function(){var t,r;return function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(a){switch(a.label){case 0:return t=document.getElementById("audio-check-screen"),r=document.getElementById("audio-check-ok"),[4,new Promise((function(e){Ae.pause(),Me.pause(),ke.pause();var n=document.getElementById("loading-wrapper");n.addEventListener("transitionend",(function(){return e("")})),n.classList.add("fadeout")}))];case 1:return a.sent(),t.classList.add("ready"),[4,new Promise((function(e){return requestAnimationFrame((function(){return e("")}))}))];case 2:return a.sent(),t.classList.add("fadein"),r.addEventListener("click",(function(){r.disabled=!0,document.getElementsByTagName("html")[0].style.overflow="",t.addEventListener("transitionend",(function(){t.style.display="none"})),t.classList.add("closing"),e()})),n?(document.getElementsByTagName("html")[0].style.overflow="",e()):t.classList.remove("loading"),[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function i(e){try{c(o.next(e))}catch(e){n(e)}}function u(e){try{c(o.throw(e))}catch(e){n(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,u)}c((o=o.apply(t,r||[])).next())}));var t,r,a,o};var Be=1e-6,Ce="undefined"!=typeof Float32Array?Float32Array:Array;function Le(){var e=new Ce(16);return Ce!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ie(e,n){var t=n[0],r=n[1],a=n[2],o=n[3],i=n[4],u=n[5],c=n[6],s=n[7],l=n[8],f=n[9],d=n[10],v=n[11],p=n[12],m=n[13],h=n[14],g=n[15],y=t*u-r*i,b=t*c-a*i,x=t*s-o*i,w=r*c-a*u,E=r*s-o*u,T=a*s-o*c,P=l*m-f*p,A=l*h-d*p,M=l*g-v*p,k=f*h-d*m,_=f*g-v*m,B=d*g-v*h,C=y*B-b*_+x*k+w*M-E*A+T*P;return C?(C=1/C,e[0]=(u*B-c*_+s*k)*C,e[1]=(a*_-r*B-o*k)*C,e[2]=(m*T-h*E+g*w)*C,e[3]=(d*E-f*T-v*w)*C,e[4]=(c*M-i*B-s*A)*C,e[5]=(t*B-a*M+o*A)*C,e[6]=(h*x-p*T-g*b)*C,e[7]=(l*T-d*x+v*b)*C,e[8]=(i*_-u*M+s*P)*C,e[9]=(r*M-t*_-o*P)*C,e[10]=(p*E-m*x+g*y)*C,e[11]=(f*x-l*E-v*y)*C,e[12]=(u*A-i*k-c*P)*C,e[13]=(t*k-r*A+a*P)*C,e[14]=(m*b-p*w-h*y)*C,e[15]=(l*w-f*b+d*y)*C,e):null}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function Fe(){var e=new Ce(3);return Ce!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Re(e,n,t,r){return e[0]=n,e[1]=t,e[2]=r,e}Fe();var Se={zp:"./images/skybox/pz.png"},Ne={};const ze=function(){return Ne};var Oe=function(e,n,t){var r=e.createShader(n);return null===r?null:(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(r)),e.deleteShader(r),null))};const Ue=function(e,n,t,r){var a=function(e,n,t){var r=Oe(e,e.VERTEX_SHADER,n),a=Oe(e,e.FRAGMENT_SHADER,t);if(null===r||null===a)return null;var o=e.createProgram();return null===o?null:(e.attachShader(o,r),e.attachShader(o,a),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)?o:(alert("Unable to initialize the shader program: "+e.getProgramInfoLog(o)),null))}(e,n,t);if(null===a)return null;var o=Object.keys(r.attribLocations).reduce((function(n,t){return n[t]=e.getAttribLocation(a,t),n}),{}),i=Object.keys(r.uniformLocations).reduce((function(n,t){return n[t]=e.getUniformLocation(a,t),n}),{});return{program:a,attribLocations:o,uniformLocations:i}};var De={aVertexPosition:0,aNormal:0},qe={uTransformMatrix:null,uProjectionMatrix:null,uViewMatrix:null,uWorld:null,uTexture:null,uWorldCameraPosition:null,uTime:null,uParam:null},Ye=null,He=null,Ve=null,Ge=null;var We={aPosition:0},Xe={uParam:null,uSkybox:null,uViewDirectionProjectionInverse:null},je=null,Qe=null;var Ze=null;var $e=null,Je={x:0,y:0},Ke={x:0,y:0},en={x:0,y:0},nn=0,tn=function(e){if(null!==$e){var n=(e*=.001)-nn;nn=e;var t=rn(n),r=45*Math.PI/180,a=$e.canvas.clientWidth/$e.canvas.clientHeight,o=Le();!function(e,n,t,r,a){var o,i=1/Math.tan(n/2);e[0]=i/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(o=1/(r-a),e[10]=(a+r)*o,e[14]=2*a*r*o):(e[10]=-1,e[14]=-2*r)}(o,r,a,1,2e3);var i=Fe(),u=Fe(),c=Fe();Re(i,0,0,0),Re(u,.03*t.x,.03*-t.y,1),Re(c,0,1,0);var s=Le();!function(e,n,t,r){var a,o,i,u,c,s,l,f,d,v,p=n[0],m=n[1],h=n[2],g=r[0],y=r[1],b=r[2],x=t[0],w=t[1],E=t[2];Math.abs(p-x)<Be&&Math.abs(m-w)<Be&&Math.abs(h-E)<Be?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(l=p-x,f=m-w,d=h-E,a=y*(d*=v=1/Math.hypot(l,f,d))-b*(f*=v),o=b*(l*=v)-g*d,i=g*f-y*l,(v=Math.hypot(a,o,i))?(a*=v=1/v,o*=v,i*=v):(a=0,o=0,i=0),u=f*i-d*o,c=d*a-l*i,s=l*o-f*a,(v=Math.hypot(u,c,s))?(u*=v=1/v,c*=v,s*=v):(u=0,c=0,s=0),e[0]=a,e[1]=u,e[2]=l,e[3]=0,e[4]=o,e[5]=c,e[6]=f,e[7]=0,e[8]=i,e[9]=s,e[10]=d,e[11]=0,e[12]=-(a*p+o*m+i*h),e[13]=-(u*p+c*m+s*h),e[14]=-(l*p+f*m+d*h),e[15]=1)}(s,i,u,c);var l=Le();Ie(l,s);var f=Le(),d=window.scrollY/(document.documentElement.scrollHeight-document.documentElement.clientHeight);$e.clearColor(0,0,0,1),$e.clearDepth(1),$e.enable($e.CULL_FACE),$e.clear($e.COLOR_BUFFER_BIT|$e.DEPTH_BUFFER_BIT),function(e,n,t,r){if(null!==je){var a,o,i=Le();o=t,(a=i)[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],i[12]=0,i[13]=0,i[14]=0;var u=Le();(function(e,n,t){var r=n[0],a=n[1],o=n[2],i=n[3],u=n[4],c=n[5],s=n[6],l=n[7],f=n[8],d=n[9],v=n[10],p=n[11],m=n[12],h=n[13],g=n[14],y=n[15],b=t[0],x=t[1],w=t[2],E=t[3];e[0]=b*r+x*u+w*f+E*m,e[1]=b*a+x*c+w*d+E*h,e[2]=b*o+x*s+w*v+E*g,e[3]=b*i+x*l+w*p+E*y,b=t[4],x=t[5],w=t[6],E=t[7],e[4]=b*r+x*u+w*f+E*m,e[5]=b*a+x*c+w*d+E*h,e[6]=b*o+x*s+w*v+E*g,e[7]=b*i+x*l+w*p+E*y,b=t[8],x=t[9],w=t[10],E=t[11],e[8]=b*r+x*u+w*f+E*m,e[9]=b*a+x*c+w*d+E*h,e[10]=b*o+x*s+w*v+E*g,e[11]=b*i+x*l+w*p+E*y,b=t[12],x=t[13],w=t[14],E=t[15],e[12]=b*r+x*u+w*f+E*m,e[13]=b*a+x*c+w*d+E*h,e[14]=b*o+x*s+w*v+E*g,e[15]=b*i+x*l+w*p+E*y})(u,n,i),Ie(u,u),e.depthFunc(e.LEQUAL),e.useProgram(je.program);var c=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,Qe),e.vertexAttribPointer(je.attribLocations.aPosition,2,c,!1,0,0),e.enableVertexAttribArray(je.attribLocations.aPosition),e.uniformMatrix4fv(je.uniformLocations.uViewDirectionProjectionInverse,!1,u),e.uniform1i(je.uniformLocations.uSkybox,0),e.uniform1f(je.uniformLocations.uParam,r),e.drawArrays(e.TRIANGLES,0,6)}}($e,o,l,d),function(e,n,t,r,a,o,i){if(null!==Ye){e.depthFunc(e.LESS),e.useProgram(Ye.program);var u,c,s,l,f,d,v,p,m,h,g,y,b,x,w,E,T,P,A=Le(),M=Fe();Re(M,0,-1,10),u=A,c=A,E=(s=M)[0],T=s[1],P=s[2],c===u?(u[12]=c[0]*E+c[4]*T+c[8]*P+c[12],u[13]=c[1]*E+c[5]*T+c[9]*P+c[13],u[14]=c[2]*E+c[6]*T+c[10]*P+c[14],u[15]=c[3]*E+c[7]*T+c[11]*P+c[15]):(l=c[0],f=c[1],d=c[2],v=c[3],p=c[4],m=c[5],h=c[6],g=c[7],y=c[8],b=c[9],x=c[10],w=c[11],u[0]=l,u[1]=f,u[2]=d,u[3]=v,u[4]=p,u[5]=m,u[6]=h,u[7]=g,u[8]=y,u[9]=b,u[10]=x,u[11]=w,u[12]=l*E+p*T+y*P+c[12],u[13]=f*E+m*T+b*P+c[13],u[14]=d*E+h*T+x*P+c[14],u[15]=v*E+g*T+w*P+c[15]);var k=Fe();Re(k,100,1,200),function(e,n,t){var r=t[0],a=t[1],o=t[2];e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=n[3]*r,e[4]=n[4]*a,e[5]=n[5]*a,e[6]=n[6]*a,e[7]=n[7]*a,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=n[11]*o,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]}(A,A,k);var _=3,B=e.FLOAT,C=!1,L=0,I=0;e.bindBuffer(e.ARRAY_BUFFER,He),e.vertexAttribPointer(Ye.attribLocations.aVertexPosition,_,B,C,L,I),e.enableVertexAttribArray(Ye.attribLocations.aVertexPosition),_=3,B=e.FLOAT,C=!1,L=0,I=0,e.bindBuffer(e.ARRAY_BUFFER,Ve),e.vertexAttribPointer(Ye.attribLocations.aNormal,_,B,C,L,I),e.enableVertexAttribArray(Ye.attribLocations.aNormal),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,Ge),e.uniformMatrix4fv(Ye.uniformLocations.uTransformMatrix,!1,A),e.uniformMatrix4fv(Ye.uniformLocations.uWorld,!1,r),e.uniformMatrix4fv(Ye.uniformLocations.uProjectionMatrix,!1,n),e.uniformMatrix4fv(Ye.uniformLocations.uViewMatrix,!1,t),e.uniform3fv(Ye.uniformLocations.uWorldCameraPosition,a),e.uniform1i(Ye.uniformLocations.uTexture,0),e.uniform1f(Ye.uniformLocations.uTime,o),e.uniform1f(Ye.uniformLocations.uParam,i),B=e.UNSIGNED_SHORT,I=0,e.drawElements(e.TRIANGLES,6,B,I)}}($e,o,l,f,i,e,d),requestAnimationFrame(tn)}},rn=function(e){if(Je.x==en.x||Je.y==en.y)return Je;var n=0!=Ke.x?Ke.x/(5*(Je.x-en.x)):0,t=0!=Ke.y?Ke.y/(5*(Je.y-en.y)):0,r={x:en.x+(Je.x-en.x)*Math.exp(-5*e)*(5*(n+1)*e+1),y:en.y+(Je.y-en.y)*Math.exp(-5*e)*(5*(t+1)*e+1)};return Ke={x:5*(Je.x-en.x)*Math.exp(-5*e)*((n+1)*(1-5*e)-1),y:5*(Je.y-en.y)*Math.exp(-5*e)*((t+1)*(1-5*e)-1)},Je=r,r};const an=function(e){return n=void 0,t=void 0,a=function(){var n,t;return function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(r){switch(r.label){case 0:return n=document.createElement("canvas"),e.appendChild(n),t=function(){n.width=e.clientWidth,n.height=e.clientHeight},window.addEventListener("resize",t),t(),window.addEventListener("mousemove",(function(e){var n=e.clientX-document.documentElement.clientWidth/2,t=e.clientY-document.documentElement.clientHeight/2,r=n/(document.documentElement.clientWidth/2),a=t/(document.documentElement.clientHeight/2);r<-1||r>1||a<-1||a>1||(en={x:r,y:a})})),null===($e=n.getContext("webgl"))?[2,!1]:($e.clearColor(0,0,0,0),$e.clear($e.COLOR_BUFFER_BIT),[4,Promise.all(Object.entries(Se).map((function(e){var n=e[0],t=e[1];return new Promise((function(e){var r=new Image;r.addEventListener("load",(function(){Ne[n]=r,e("")})),r.src=t}))})))]);case 1:return r.sent(),function(e){Ze=e.createTexture(),e.bindTexture(e.TEXTURE_CUBE_MAP,Ze);var n=ze();[{target:e.TEXTURE_CUBE_MAP_POSITIVE_X,image:n.zp},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_X,image:n.zp},{target:e.TEXTURE_CUBE_MAP_POSITIVE_Y,image:n.zp},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_Y,image:n.zp},{target:e.TEXTURE_CUBE_MAP_POSITIVE_Z,image:n.zp},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_Z,image:n.zp}].forEach((function(n){var t=n.target,r=n.image,a=e.RGBA,o=e.RGBA,i=e.UNSIGNED_BYTE;e.texImage2D(t,0,a,o,i,r)})),e.generateMipmap(e.TEXTURE_CUBE_MAP),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR)}($e),function(e){if(null===(Ye=Ue(e,"\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uTransformMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uWorld;\n\nvarying vec3 vWorldPosition;\nvarying vec3 vWorldNormal;\nvarying vec2 vPosition;\n\nvoid main(void) {\n  vec4 position = vec4(aVertexPosition, 1.0);\n  gl_Position = uProjectionMatrix * uViewMatrix * uWorld * uTransformMatrix * position;\n  vWorldPosition = (uWorld * uTransformMatrix * position).xyz;\n  vWorldNormal = mat3(uWorld) * aNormal;\n  vPosition = aVertexPosition.xz;\n}\n","\nprecision highp float;\n\nvarying vec3 vWorldPosition;\nvarying vec3 vWorldNormal;\nvarying vec2 vPosition;\n\nuniform samplerCube uSkybox;\n\nuniform float uTime;\nuniform float uParam;\nuniform vec3 uWorldCameraPosition;\n\n//---noise---///\nvec3 mod289(vec3 x){ return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 mod289(vec4 x){ return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 permute(vec4 x){ return mod289(((x*34.0)+1.0)*x); }\nvec4 taylorInvSqrt(vec4 r){ return 1.79284291400159 - 0.85373472095314 * r; }\n\nfloat snoise(vec3 v){\n    const vec2 C = vec2(1.0/6.0, 1.0/3.0);\n    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 = v - i + dot(i, C.xxx) ;\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy;\n    vec3 x3 = x0 - D.yyy;\n    i = mod289(i);\n    vec4 p = permute(permute(permute(\n              i.z + vec4(0.0, i1.z, i2.z, 1.0))\n            + i.y + vec4(0.0, i1.y, i2.y, 1.0))\n            + i.x + vec4(0.0, i1.x, i2.x, 1.0));\n    float n_ = 0.142857142857;\n    vec3 ns = n_ * D.wyz - D.xzx;\n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_);\n    vec4 x = x_ * ns.x + ns.yyyy;\n    vec4 y = y_ * ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n    vec4 b0 = vec4(x.xy, y.xy);\n    vec4 b1 = vec4(x.zw, y.zw);\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2, p2),dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n    vec4 m = max(0.5 - vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);\n    m = m * m;\n    return 105.0 * dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));\n}\n//---noise---//\n\n//---gradation---//\nconst vec4 phases = vec4(0.62, 0.37, 0.33, 0.);\nconst vec4 amplitudes = vec4(1.00, 1.00, 1.00, 0.);\nconst vec4 frequencies = vec4(0.01, 0.10, 0.08, 0.);\nconst vec4 offsets = vec4(0.00, 0.00, 0.00, 0.);\n\nconst vec4 sbPhasesFrom = vec4(0.46, 0.50, 0.39, 0.);\nconst vec4 sbFrequenciesFrom = vec4(0.03, 0.00, 0.06, 0.);\nconst vec4 sbPhasesTo = vec4(0.35, 0.43, 0.55, 0.);\nconst vec4 sbFrequenciesTo = vec4(0.06, 0.03, 0.10, 0.);\nconst vec4 sbAmplitudes = vec4(1.00, 1.00, 1.00, 0.);\nconst vec4 sbOffsets = vec4(0.00, 0.00, 0.00, 0.);\n\nconst float TAU = 2. * 3.14159265;\n\nvec4 cosine_gradient(float x,  vec4 phase, vec4 amp, vec4 freq, vec4 offset){\n  phase *= TAU;\n  x *= TAU;\n\n  return vec4(\n    offset.r + amp.r * 0.5 * cos(x * freq.r + phase.r) + 0.5,\n    offset.g + amp.g * 0.5 * cos(x * freq.g + phase.g) + 0.5,\n    offset.b + amp.b * 0.5 * cos(x * freq.b + phase.b) + 0.5,\n    offset.a + amp.a * 0.5 * cos(x * freq.a + phase.a) + 0.5\n  );\n}\n\nvec3 toRGB(vec4 grad){\n  return grad.rgb;\n}\n//---gradation---//\n\nfloat overrayf(float base, float mix) {\n  if (base < 0.5) {\n    return base * mix * 2.0;\n  } else {\n    return 2.0 * (base + mix - base * mix) - 1.0;\n  }\n}\n\nvec4 overray(vec4 base, vec4 mix) {\n  return vec4(overrayf(base.x,mix.x),overrayf(base.y,mix.y),overrayf(base.z,mix.z),base.w);\n}\n\nvoid main(void) {\n  const float scale = 0.1;\n  const float pos_scale = 0.2;\n  vec2 pos = (vPosition + vec2(1.0)) / 2.0 * 500.0;\n  vec2 dtv = vec2(0.0, uTime * 1.3);\n  vec2 tx1 = pos * pos_scale + dtv + vec2(-0.5,0.0);\n  vec2 tx2 = pos * pos_scale + dtv + vec2(0.5,0.0);\n  vec2 ty1 = pos * pos_scale + dtv + vec2(0.0,-0.5);\n  vec2 ty2 = pos * pos_scale + dtv + vec2(0.0,0.5);\n  float nx1 = snoise(vec3(tx1, uTime * 0.1));\n  float nx2 = snoise(vec3(tx2, uTime * 0.1));\n  float ny1 = snoise(vec3(ty1, uTime * 0.1));\n  float ny2 = snoise(vec3(ty2, uTime * 0.1));\n  float dx = (nx2 - nx1) / 2.0 * scale * smoothstep(0.3, 0.5, (1.0 - (vPosition.y + 1.0) / 2.0));\n  float dy = (ny2 - ny1) / 2.0 * scale * smoothstep(0.3, 0.5, (1.0 - (vPosition.y + 1.0) / 2.0));\n  vec3 dxv = vec3(1,dx,0);\n  vec3 dyv = vec3(0,dy,1);\n  \n  vec3 windedNormal = cross(dyv, dxv);\n  vec3 worldNormal = normalize(windedNormal);\n  vec3 eyeToSurfaceDir = normalize(vWorldPosition - uWorldCameraPosition);\n  vec3 direction = reflect(eyeToSurfaceDir, worldNormal);\n  vec4 baseColor = vec4(textureCube(uSkybox, direction).xyz * (smoothstep(0.0,0.5,uParam)* 0.1 + 0.9) * 0.9, 1.0);\n\n  vec2 uv = 1.0 - smoothstep(0.0, 0.1, clamp(vPosition + 0.04, 0.0, 1.0));\n  vec4 cos_grad = cosine_gradient(uv.y, mix(sbPhasesFrom, sbPhasesTo, uParam), sbAmplitudes, mix(sbFrequenciesFrom, sbFrequenciesTo, uParam), sbOffsets);\n  cos_grad = clamp(cos_grad, 0., 1.);\n  vec4 sbOverrayColor = vec4(toRGB(cos_grad), 1.0);\n\n  uv = vPosition;\n  cos_grad = cosine_gradient(uv.y, phases, amplitudes, frequencies, offsets);\n  cos_grad = clamp(cos_grad, 0., 1.);\n  vec4 color = vec4(toRGB(cos_grad), 1.0);\n\n  gl_FragColor = overray(overray(baseColor, sbOverrayColor),color);\n}\n",{attribLocations:De,uniformLocations:qe})))return!1;He=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,He);var n=[[-1,0,1],[1,0,1],[1,0,-1],[-1,0,-1]].reduce((function(e,n){return e.concat([n[0],n[1],n[2]])}),[]);return e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),Ve=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,Ve),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]),e.STATIC_DRAW),Ge=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,Ge),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),!0}($e)&&function(e){return null!==(je=Ue(e,"\nattribute vec4 aPosition;\nvarying vec4 vPosition;\n\nvoid main(void) {\n  vPosition = aPosition;\n  gl_Position = aPosition;\n  gl_Position.z = 1.0;\n  gl_Position.w = 1.0;\n}\n","\nprecision mediump float;\n\nuniform float uParam;\nuniform samplerCube uSkybox;\nuniform mat4 uViewDirectionProjectionInverse;\nvarying vec4 vPosition;\n\nconst vec4 phasesFrom = vec4(0.46, 0.50, 0.39, 0.);\nconst vec4 frequenciesFrom = vec4(0.03, 0.00, 0.06, 0.);\nconst vec4 phasesTo = vec4(0.35, 0.43, 0.55, 0.);\nconst vec4 frequenciesTo = vec4(0.06, 0.03, 0.10, 0.);\nconst vec4 amplitudes = vec4(1.00, 1.00, 1.00, 0.);\nconst vec4 offsets = vec4(0.00, 0.00, 0.00, 0.);\n\nconst float TAU = 2. * 3.14159265;\n\nvec4 cosine_gradient(float x,  vec4 phase, vec4 amp, vec4 freq, vec4 offset){\n  phase *= TAU;\n  x *= TAU;\n\n  return vec4(\n    offset.r + amp.r * 0.5 * cos(x * freq.r + phase.r) + 0.5,\n    offset.g + amp.g * 0.5 * cos(x * freq.g + phase.g) + 0.5,\n    offset.b + amp.b * 0.5 * cos(x * freq.b + phase.b) + 0.5,\n    offset.a + amp.a * 0.5 * cos(x * freq.a + phase.a) + 0.5\n  );\n}\n\nvec3 toRGB(vec4 grad){\n  return grad.rgb;\n}\n\nfloat overrayf(float base, float mix) {\n  if (base < 0.5) {\n    return base * mix * 2.0;\n  } else {\n    return 2.0 * (base + mix - base * mix) - 1.0;\n  }\n}\n\nvec4 overray(vec4 base, vec4 mix) {\n  return vec4(overrayf(base.x,mix.x),overrayf(base.y,mix.y),overrayf(base.z,mix.z),base.w);\n}\n\nvoid main(void) {\n  vec4 t = uViewDirectionProjectionInverse * vec4(vPosition.x, vPosition.y, vPosition.z, vPosition.w);\n  vec4 baseColor = vec4(textureCube(uSkybox, normalize(t.xyz / t.w)).xyz * (smoothstep(0.0,0.5,uParam)* 0.1 + 0.9), 1.0);\n\n  vec2 uv = vPosition.xy;\n  vec4 cos_grad = cosine_gradient(uv.y, mix(phasesFrom, phasesTo, uParam), amplitudes, mix(frequenciesFrom, frequenciesTo, uParam), offsets);\n  cos_grad = clamp(cos_grad, 0., 1.);\n  vec4 color = vec4(toRGB(cos_grad), 1.0);\n\n  gl_FragColor = overray(baseColor, color);\n  //gl_FragColor = textureCube(uSkybox, normalize(t.xyz / t.w));\n}\n",{attribLocations:We,uniformLocations:Xe}))&&(Qe=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,Qe),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW),!0)}($e)?(requestAnimationFrame(tn),[2,!0]):[2,!1]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function u(e){try{c(a.throw(e))}catch(e){o(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}c((a=a.apply(n,t||[])).next())}));var n,t,r,a};const on=function(){return e=void 0,n=void 0,r=function(){var e;return function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(n){switch(n.label){case 0:return e=document.getElementById("background"),[4,an(e)];case 1:return n.sent()||(e.style.background="url(images/background.jpg)"),[2]}}))},new((t=void 0)||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}));var e,n,t,r};var un,cn={},sn=0,ln=function(){var e=window.scrollY+document.documentElement.clientHeight/2;Object.values(cn).forEach((function(n){var t=n.target.offsetTop,r=n.target.offsetTop+n.target.clientHeight/2+n.tail;"enter"===n.eventType&&t>=un&&t<e?n.callback("down"):"enter"===n.eventType&&r>=e&&r<un?n.callback("up"):"exit"===n.eventType&&r>=un&&r<e?n.callback("down"):"exit"===n.eventType&&t>=e&&t<un&&n.callback("up")})),un=e,requestAnimationFrame(ln)};const fn=function(e,n,t,r){return cn[sn]={eventType:e,target:n,callback:t,tail:r},++sn-1};var dn,vn="normal",pn="stoped";var mn,hn=n("songs");var gn,yn,bn=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}))},xn=function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},wn=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},En="normal",Tn="stoped";var Pn,An=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}))},Mn=function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Ae=Pe({targets:"#loading-svg .wave",d:["M 0 128 Q 40.587 112 64 112 Q 87.413 112 128 128 Q 168.587 144 192 144 Q 215.413 144 256 128","M 0 128 Q 40.587 144 64 144 Q 87.413 144 128 128 Q 168.587 112 192 112 Q 215.413 112 256 128"],duration:2e3,easing:"easeInOutSine",direction:"alternate",loop:!0}),Me=Pe({targets:"#loading-svg .wave-mask",d:["M 0 128 Q 40.587 112 64 112 Q 87.413 112 128 128 Q 168.587 144 192 144 Q 215.413 144 256 128 L 256 0 L 0 0 L 0 128","M 0 128 Q 40.587 144 64 144 Q 87.413 144 128 128 Q 168.587 112 192 112 Q 215.413 112 256 128 L 256 0 L 0 0 L 0 128"],duration:2e3,easing:"easeInOutSine",direction:"alternate",loop:!0}),(ke=Pe.timeline({easing:"easeOutQuad",loop:!0})).add({targets:"#loading-svg .sun",cy:[192,96],duration:3e3}),ke.add({targets:"#loading-svg .sun",cy:[96,192],duration:1e3},"+=1000"),Pn=document.getElementById("songs"),mn=a.map((function(e,n){var t=document.createElement("div");t.classList.add("song"),null==Pn||Pn.appendChild(t);var r=document.createElement("div");r.classList.add("wrapper"),t.appendChild(r);var a=document.createElement("div");a.classList.add("track-number"),a.textContent="0"+(n+1),r.appendChild(a);var o=document.createElement("div");o.classList.add("slash"),r.appendChild(o);var i=document.createElement("div");i.classList.add("song-title"),i.textContent=e.title,r.appendChild(i);var u=document.createElement("div");u.classList.add("composer"),u.textContent=e.composer,r.appendChild(u);var c=document.createElement("div");if(c.classList.add("sns-link-container"),r.appendChild(c),e.soundcloud){var s=document.createElement("a");s.classList.add("sns-link","sc"),s.href=e.soundcloud,c.appendChild(s),(l=document.createElement("img")).src="./images/sns/soundcloud.png",s.appendChild(l)}if(e.twitter){var l,f=document.createElement("a");f.classList.add("sns-link","tw"),f.href=e.twitter,c.appendChild(f),(l=document.createElement("img")).src="./images/sns/twitter.svg",f.appendChild(l)}var d="normal",v="stoped",p=Pe.timeline({duration:1e3,easing:"easeOutQuart",update:function(e){e.completed&&(v="stoped")},complete:function(){v="stoped"}});return p.add({targets:a,opacity:[0,.5]}),p.add({targets:o,opacity:[0,1],translateY:[-100,0],rotateZ:[-100,0]},"-=900"),p.add({targets:i,opacity:[0,1],translateX:[-50,0]},"-=900"),p.add({targets:u,opacity:[0,1],translateY:[-50,0]},"-=900"),p.add({targets:c,opacity:[0,1],translateX:[50,0]},"-=900"),p.pause(),fn("enter",t,(function(){hn.debug("enter",{index:n,songElem:t}),"reverse"===d&&(p.reverse(),d="normal"),"stoped"===v&&(p.play(),v="playing"),hn.debug("play",{index:n}),T.play(n)}),.2*t.clientHeight),fn("exit",t,(function(){hn.debug("exit",{songElem:t}),"normal"===d&&(p.reverse(),d="reverse"),"stoped"===v&&(p.play(),v="playing")}),.2*t.clientHeight),t})),function(){var e=document.getElementById("jacket"),n=document.getElementById("description"),t=document.getElementById("information-track-list");(dn=Pe.timeline({duration:1e3,easing:"easeOutQuart",update:function(e){e.completed&&(pn="stoped")},complete:function(){pn="stoped"},autoplay:!1})).add({targets:e,translateX:[-50,0],opacity:[0,1]}),a.forEach((function(e,n){var r=document.createElement("li");r.textContent="0"+(n+1)+" "+e.title+" / "+e.composer,null==t||t.appendChild(r),dn.add({targets:r,translateX:[50,0],opacity:[0,1]},"-=900")})),dn.add({targets:n,translateX:[50,0],opacity:[0,1]},"-=1500");var r=document.getElementById("information");fn("enter",r,(function(e){"up"!==e&&("reverse"===vn&&(dn.reverse(),vn="normal"),"stoped"===pn&&(dn.play(),pn="playing"))}),0),fn("exit",r,(function(e){"down"!==e&&("normal"===vn&&(dn.reverse(),vn="reverse"),"stoped"===pn&&(dn.play(),pn="playing"))}),0)}(),window.onload=function(){return An(void 0,void 0,void 0,(function(){return Mn(this,(function(e){switch(e.label){case 0:return document.getElementsByTagName("html")[0].style.overflow="hidden",[4,Promise.all([T.load(),bn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,Promise.all(wn([],Array(11),!0).map((function(e,n){return new Promise((function(e){var t=new Image;t.onload=function(){return e(t)},t.src="./images/logo/"+n+".png"}))})))];case 1:return gn=e.sent(),[2]}}))})),on()])];case 1:return e.sent(),un=window.scrollY+document.documentElement.clientHeight/2,Object.values(cn).forEach((function(e){var n=e.eventType,t=e.target,r=e.tail,a=e.callback;"enter"===n&&t.offsetTop<=un&&un<t.offsetTop+t.clientHeight/2+r&&a("down")})),requestAnimationFrame(ln),bn(void 0,void 0,void 0,(function(){var e,n;return xn(this,(function(t){return e=document.getElementById("title-logo-wrapper"),gn.forEach((function(n){return null==e?void 0:e.appendChild(n)})),(yn=Pe.timeline({duration:1e3,easing:"easeOutQuart",update:function(e){e.completed&&(Tn="stoped")},complete:function(){Tn="stoped"},autoplay:!1})).add({targets:gn[1],translateX:[-20,0],opacity:[0,1]}).add({targets:gn[2],translateX:[20,0],translateY:[30,0],opacity:[0,1]},"-=900").add({targets:gn[3],translateY:[-50,0],opacity:[0,1]},"-=900").add({targets:gn[4],translateX:[50,0],opacity:[0,1]},"-=900").add({targets:gn[5],translateY:[50,0],opacity:[0,1]},"-=900").add({targets:gn[6],translateX:[-50,0],opacity:[0,1]},"-=700").add({targets:gn[7],translateX:[-50,0],opacity:[0,1]},"-=700").add({targets:gn[0],translateY:[-100,0],opacity:[0,1],easing:"spring(1,100,10,0)"},"-=1000").add({targets:gn[8],translateX:[Math.sqrt(50*Math.cos(.13*Math.PI)*50),0],translateY:[Math.sqrt(50*Math.sin(.13*Math.PI)*50),0],opacity:[0,1]},"-=1500").add({targets:gn[9],translateX:[Math.sqrt(50*Math.cos(.4*Math.PI)*50),0],translateY:[Math.sqrt(50*Math.sin(.4*Math.PI)*50),0],opacity:[0,1]},"-=1400").add({targets:gn[10],translateX:[Math.sqrt(50*Math.cos(.49*Math.PI)*50),0],translateY:[Math.sqrt(50*Math.sin(.49*Math.PI)*50),0],opacity:[0,1]},"-=1200"),n=document.getElementById("title"),fn("enter",n,(function(){"reverse"===En&&(yn.reverse(),En="normal"),"stoped"===Tn&&(yn.play(),Tn="playing")}),20),fn("exit",n,(function(){"normal"===En&&(yn.reverse(),En="reverse"),"stoped"===Tn&&(yn.play(),Tn="playing")}),20),[2]}))})),_e((function(){return An(void 0,void 0,void 0,(function(){return Mn(this,(function(e){switch(e.label){case 0:return[4,T.init()];case 1:return e.sent(),document.getElementById("information").clientHeight+20>=window.scrollY+document.documentElement.clientHeight/2&&(yn.play(),Tn="playing"),function(){T.setAudioEndCallback((function(){hn.debug("audioEndCallback");var e=T.getCurrentTrackNum(),n=0;if(e==T.getNumberOfTracks()-1){hn.debug("pause"),T.pause();var t=document.getElementById("information");n=Math.min(t.offsetTop,document.documentElement.scrollHeight-document.documentElement.clientHeight)}else hn.debug("play",{index:e+1}),T.play(e+1),n=mn[e+1].offsetTop-50;var r=performance.now()+2e3,a=0,o=window.scrollY,i=0,u=function(e){if(!(e>r)){var t=(e+2e3-r)/1e3,c=t-a,s=o-n,l=0!=i?i/(5*s):0,f=n+s*Math.exp(-5*c)*((l+1)*c*5+1);window.scrollTo({top:f}),a=t,o=f,i=5*s*Math.exp(-5*c)*((l+1)*(1-5*c)-1),requestAnimationFrame(u)}};requestAnimationFrame(u)}));var e=window.scrollY+document.documentElement.clientHeight/2;if(e<=mn[0].offsetTop)return hn.debug("play(initial)",{index:0}),void T.play(0);if(mn[mn.length-1].offsetTop<e)return hn.debug("play(initial)",{index:mn.length-1}),void T.play(mn.length-1);for(var n=mn.length-1;n>=0;n--)if(mn[n].offsetTop<e){hn.debug("play(initial)",{index:n}),T.play(n);break}}(),document.getElementById("information").offsetTop<window.scrollY+document.documentElement.clientHeight/2&&(dn.play(),pn="playing"),[2]}}))}))}),!1),[2]}}))}))}})()})();